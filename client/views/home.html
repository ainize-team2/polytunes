<head>
  <title>polytunes</title>
  <meta name="viewport" content="width=device-width, user-scalable=no">
</head>

<body>
	{{#if isLogged}}
		{{> board}}
		{{> controls}}
	{{else}}
		{{> login}}
	{{/if}}
	<br>
	<div class="bottom">
		<h1 class="brand-title">polytunes 0.4</h1> | 
        <a href="https://github.com/iwazaru/polytunes" target="_blank">source</a> |
        <a href="http://devpost.com/software/polytunes" target="_blank">about</a>
    </div>
</body>

<template name="board">
  <table id="board">
    <tbody>
      {{#each rows}}
        <tr>
          {{#each .}}
            <td class="x{{x}} y{{y}} {{#if i}}i {{color}}{{/if}}" data-x="{{x}}" data-y="{{y}}"></td>
          {{/each}}
        </tr>
      {{/each}}
    </tbody>
  </table>

  {{ > tooltips }}
</template>

<template name="controls">
  <div class="controls">
      <div class="player-list">
        {{{ playerList }}}
      </div>
    <button id="play" class="e"><i class="fa fa-{{ playButtonIcon }}"></i></button>
  </div>

  {{ > tooltips }}
</template>

<template name="login">
	<div class="login-container">
		<form id="login-form">
			<input type="text" placeholder="Hi, what's your name ?" name="surname" autofocus required>
      <input type="hidden" name="color" value="{{ random_color.name }}">
			<button type="submit">Continue</button>
		</form>
	</div>
</template>
